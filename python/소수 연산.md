# 소수 연산

### 실수 자료형 (float)

- 유리수와 무리수를 포함하는 '실수'를 다루는 자료형
  
  - 0.1, 100.0, -0.001 등

### 소수 표현 방법

- 고정 소수점 (fixed point)
  
  - 소수부의 자릿수를 미리 정하여, 고정된 자릿수의 소수를 표현

- 부동 소수점 (floating point) -> 컴퓨터에서 사용
  
  - 실수를 컴퓨터 상에서 근사하여 표현할 때 소수점의 위치를 고정하지 않고 그 위치를 나타내는 수를 따로 적는 것
  
  - 유효숫자를 나타내는 가수와 소수점의 위치를 풀이하는 지수로 나누어 표현

### 부동 소수점의 오차

- 실수의 값을 처리할 때 의도하지 않은 값이 나올 수 있음
  
  ```python
  print(3.2 - 3.1) # 0.10000000000000009
  print(1.2 - 1.1) # 0.09999999999999987
  ```
  
  - 컴퓨터는 2진수, 사람은 10진수 사용
  
  - 10진수 0.1을 2진수로 표현하면 0.0001100110011001100.. 와 같이 무한대로 반복
  
  - 무한대를 모두 저장할 수 없기에 10진법의 근사값만 표시
  
  - 0.1의 경우 3602879701896397 / 2 ** 55이며 0.1에 가깝지만 정확히 동일하지는 않다
  
  - 이 과정에서 오차 발생 = floating point rounding error

### 실수 자료형 소수 연산 방법

- 기본적인 처리 방법
  
  - a와 b의 차이가 1e-10 값 이하이면 a와 b는 같다고 볼 수 있다
  
  ```python
  a = 3.5 - 3.12
  b = 0.38
  
  abs(a - b) <= 1e-10 # True
  ```

- epsilon 활용 (sys 모듈)
  
  - epsilon : 부동소수점 연산에서 반올림을 함으로써 발생하는 오차 상환
  
  - a와 b의 차이가 sys.float_info.epsilon 값 이하이면 a, b는 같다고 볼 수 있다
  
  ```python
  import sys
  
  abs(a - b) <= sys.float_info.epsilon # True
  ```

- isclose() 함수 활용 (math 모듈)
  
  - a와 b의 값이 같은지 확인
  
  ```python
  import math
  
  math.isclose(a, b) # True
  ```
